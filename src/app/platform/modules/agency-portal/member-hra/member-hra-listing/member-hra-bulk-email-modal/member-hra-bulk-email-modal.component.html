<div class="custom_modal">
    <h3 mat-dialog-title>Bulk Email</h3>
    <div mat-dialog-content>
        <div class="row">
            <div class="col-sm-12">
                <form id="addBulkEmailForm" #documentForm="ngForm" class="readmin-form custom_form"
                    [formGroup]="addBulkEmailForm">
                    <div class="row">
                        <div class="col-sm-12">
                            <mat-form-field class="example-full-width">
                                <mat-select placeholder="Email template" formControlName="templateId" matInput
                                    (selectionChange)="getTemplateData($event)">
                                    <mat-option *ngFor="let option of masterEmailTemplates" [value]="option.id">
                                        {{option.templateName}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row" *ngIf='isMessageText'>
                        <div class="col-sm-12">
                            <mat-form-field class="example-full-width">
                                <input matInput autofocus placeholder="Subject" maxlength="1000"
                                    formControlName="subject" required />
                                <mat-error *ngIf="formControls.subject.errors?.required">
                                    Please enter subject.
                                </mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="row" *ngIf="isMessageText">
                        <div class="col-sm-12">
                            <div [innerHTML]="emailObj.template">
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div mat-dialog-actions>
        <button class="cancel-btn" color="accent" mat-raised-button (click)="closeDialog('close')">Close</button>
        <button name="Save" mat-raised-button color="primary" (click)="onSubmit()" form="addDocumentForm"
            [disabled]="submitted" cdkFocusInitial>
            {{submitted ? 'Sending...' : 'Send'}}
        </button>
    </div>
</div>